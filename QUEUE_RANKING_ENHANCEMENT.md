# é˜Ÿåˆ—æ’åæ˜¾ç¤ºä¼˜åŒ–

## æ¦‚è¿°

å¯¹ä¼˜å…ˆçº§æ»‘å—çš„æ’åæ˜¾ç¤ºè¿›è¡Œäº†ä¸¤é¡¹é‡è¦ä¼˜åŒ–ï¼Œè®©ç”¨æˆ·æ›´æ¸…æ™°åœ°ç†è§£å¡ç‰‡çš„æ’åä½ç½®ã€‚

## ğŸ¯ ä¼˜åŒ–å†…å®¹

### 1. ä¿®æ”¹æ€»æ’åæ˜¾ç¤ºæ–‡æ¡ˆ

**ä¿®æ”¹å‰ï¼š**
```
å½“å‰æ’åï¼šç¬¬111å / å…±225å¼ å¡ç‰‡
```

**ä¿®æ”¹åï¼š**
```
å½“å‰æ€»æ’åï¼šç¬¬111å / å…±225å¼ å¡ç‰‡
```

è¿™ä¸ªä¿®æ”¹è®©ç”¨æˆ·æ›´æ˜ç¡®åœ°çŸ¥é“è¿™æ˜¯åœ¨æ‰€æœ‰å¡ç‰‡ä¸­çš„æ€»ä½“æ’åã€‚

### 2. æ–°å¢å½“å‰é˜Ÿåˆ—æ’åæ˜¾ç¤º

**æ–°å¢åŠŸèƒ½ï¼š**
```
åœ¨ memo é˜Ÿåˆ—ä¸­ï¼šç¬¬5å / å…±15å¼ 
```

å½“ç”¨æˆ·ä¿®æ”¹ä¼˜å…ˆçº§æ—¶ï¼Œç°åœ¨å¯ä»¥çœ‹åˆ°ï¼š
- **æ€»æ’å**ï¼šåœ¨æ‰€æœ‰å¡ç‰‡ä¸­çš„ä½ç½®
- **é˜Ÿåˆ—æ’å**ï¼šåœ¨å½“å‰æ ‡ç­¾ï¼ˆç‰Œç»„ï¼‰ä¸­çš„ä½ç½®

## ğŸ”§ æŠ€æœ¯å®ç°

### ä¿®æ”¹çš„ç»„ä»¶

#### 1. `PrioritySlider.tsx`
- æ–°å¢ `currentQueueRank`ã€`currentQueueSize`ã€`currentQueueName` props
- ä¿®æ”¹æ˜¾ç¤ºå¸ƒå±€ï¼Œé‡‡ç”¨å‚ç›´å †å æ–¹å¼æ˜¾ç¤ºä¸¤è¡Œæ’åä¿¡æ¯
- æ€»æ’åä½¿ç”¨æ·±è‰²æ˜¾ç¤ºï¼Œé˜Ÿåˆ—æ’åä½¿ç”¨è“è‰²æ˜¾ç¤ºä»¥ç¤ºåŒºåˆ†

#### 2. `PracticeOverlay.tsx`
- æ·»åŠ é˜Ÿåˆ—æ’åè®¡ç®—é€»è¾‘
- é€šè¿‡ `practiceCardUids` è®¡ç®—å½“å‰å¡ç‰‡åœ¨é˜Ÿåˆ—ä¸­çš„ä½ç½®
- ä¼ é€’é˜Ÿåˆ—æ’åä¿¡æ¯ç»™ `PrioritySlider` ç»„ä»¶

### è®¡ç®—é€»è¾‘

```typescript
// è®¡ç®—å½“å‰é˜Ÿåˆ—æ’åä¿¡æ¯
const { currentQueueRank, currentQueueSize } = React.useMemo(() => {
  if (!currentCardRefUid || practiceCardUids.length === 0) {
    return { currentQueueRank: undefined, currentQueueSize: undefined };
  }
  
  // è®¡ç®—å½“å‰å¡ç‰‡åœ¨å½“å‰é˜Ÿåˆ—ä¸­çš„ä½ç½®
  const queueIndex = practiceCardUids.indexOf(currentCardRefUid);
  if (queueIndex === -1) {
    return { currentQueueRank: undefined, currentQueueSize: practiceCardUids.length };
  }
  
  return {
    currentQueueRank: queueIndex + 1, // æ’åä»1å¼€å§‹
    currentQueueSize: practiceCardUids.length
  };
}, [currentCardRefUid, practiceCardUids]);
```

## ğŸ’¡ ç”¨æˆ·ä½“éªŒæå‡

### ä½¿ç”¨åœºæ™¯

ç”¨æˆ·åœ¨å¤ä¹  `memo` æ ‡ç­¾çš„å¡ç‰‡æ—¶çœ‹åˆ°ï¼š

```
ä¼˜å…ˆçº§æ’å
(æ‹–åŠ¨è°ƒæ•´æ’åï¼Œå…³é—­çª—å£æ—¶è‡ªåŠ¨ä¿å­˜)

ä½ä¼˜å…ˆçº§ï¼ˆç¬¬225åï¼‰    å½“å‰æ€»æ’åï¼šç¬¬111å / å…±225å¼ å¡ç‰‡    é«˜ä¼˜å…ˆçº§ï¼ˆç¬¬1åï¼‰
                     åœ¨ memo é˜Ÿåˆ—ä¸­ï¼šç¬¬5å / å…±15å¼ 
```

### ä¼˜åŠ¿

1. **æ¸…æ™°åŒºåˆ†**ï¼šç”¨æˆ·èƒ½åŒºåˆ†æ€»ä½“æ’åå’Œå½“å‰é˜Ÿåˆ—æ’å
2. **ç²¾ç¡®åé¦ˆ**ï¼šå½“ä¿®æ”¹ä¼˜å…ˆçº§æ—¶ï¼Œèƒ½å‡†ç¡®çŸ¥é“åœ¨å½“å‰å­¦ä¹ é˜Ÿåˆ—ä¸­çš„ä½ç½®
3. **å­¦ä¹ æŒ‡å¯¼**ï¼šå¸®åŠ©ç”¨æˆ·ç†è§£è°ƒæ•´ä¼˜å…ˆçº§å¯¹å½“å‰å­¦ä¹ è®¡åˆ’çš„å½±å“

## ğŸ¨ ç•Œé¢è®¾è®¡

- **æ€»æ’å**ï¼šä½¿ç”¨ç²—ä½“æ·±è‰²æ–‡å­— `#2c3e50`
- **é˜Ÿåˆ—æ’å**ï¼šä½¿ç”¨è“è‰²æ–‡å­— `#3498db`ï¼Œå­—ä½“ç¨å°
- **å¸ƒå±€**ï¼šå‚ç›´å±…ä¸­å¯¹é½ï¼Œè§†è§‰å±‚æ¬¡æ¸…æ™°

è¿™ä¸ªä¼˜åŒ–è®©ç”¨æˆ·åœ¨è°ƒæ•´å¡ç‰‡ä¼˜å…ˆçº§æ—¶æœ‰æ›´ç²¾ç¡®çš„æ§åˆ¶æ„Ÿå’Œåé¦ˆæ„Ÿï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šæ ‡ç­¾æ··åˆå­¦ä¹ çš„åœºæ™¯ä¸‹ã€‚ 